<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>じゃんけん</title>
</head>
<body>

<header>
  <h1>じゃんけん</h1>
</header>

<main>
  <ul>
    <li id="gu_btn">グー</li>
    <li id="cho_btn">チョキ</li>
    <li id="par_btn">パー</li>
  </ul>
  <div>コンピュータの出した手は？「<span id="pc_hands">なに？</span>」</div>
  <div id="judgment">□□□</div>
</main>

<footer></footer>
<script>

const Mtlx = [
  [0, 1, -1],  // グー
  [-1, 0, 1],  // チョキ
  [1, -1, 0]   // パー
];

const Text_janken = ["グー", "チョキ", "パー"];
const List_janken = [0, 1, 2]; // グー = 0, チョキ = 1, パー = 2

// じゃんけんの結果を計算する関数
function jankenResult(plyer_janken, CPU_janken) {
  const result = Mtlx[plyer_janken][CPU_janken]; // 勝敗行列Mを使って結果を計算
  if (result === 1) {
    return '勝ち';
  } else if (result === -1) {
    return '負け';
  } else {
    return '引き分け';
  }
}

// プレイヤーの選んだ手をクリックしたときの処理
function playJanken(plyer_janken) {
  let randomIndex = Math.floor(Math.random() * List_janken.length); // ランダムなインデックスを生成
  let CPU_janken = List_janken[randomIndex]; // コンピュータの手をランダムに選択
  console.log("CPU_janken", CPU_janken);

  // コンピュータの手を表示
  $("#pc_hands").html(Text_janken[CPU_janken]);

  // 勝敗を表示
  $("#judgment").html(jankenResult(plyer_janken, CPU_janken));
}

// グーをクリックしたとき
$("#gu_btn").on("click", function() {
  const plyer_janken = 0; // グー
  playJanken(plyer_janken);
});

// チョキをクリックしたとき
$("#cho_btn").on("click", function() {
  const plyer_janken = 1; // チョキ
  playJanken(plyer_janken);
});

// パーをクリックしたとき
$("#par_btn").on("click", function() {
  const plyer_janken = 2; // パー
  playJanken(plyer_janken);
});

</script>
</body>
</html>
